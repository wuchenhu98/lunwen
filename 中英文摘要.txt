
摘  要

随着港口物流规模的不断扩大，港口设备异常管理对保障港口运行安全愈加重要。通过对港口设备时序数据进行异常检测与异常预测，可以显著提高设备异常管理的效率。近年来，Transformer和图神经网络分别因其强大的时间和空间依赖关系建模能力而被广泛应用于时间序列异常分析中。但港口设备时序数据具有高维异质性、变量动态相关、局部变化模式复杂、异常前兆数据稀疏等特点，给现有方法在港口设备异常分析中的应用带来了多方面挑战。
港口设备异常检测存在以下挑战：1.Transformer面向文本任务的以单个数据点作为token的处理方式，忽视了时间序列单个数据点并不和单词一样具备明确语义信息，无法有效学习时序的局部特征；2.Transformer的全局注意力机制通过矩阵相乘的方式进行不同时序变量间的信息交互，会造成变量间的信息干扰，无法准确学习变量的异质性特征；3.图神经网络基于全局静态图结构学习变量间的空间依赖关系，无法捕捉变量间的动态相关性。针对上述挑战，本文设计了多维时间序列异常检测模型MTAD-TSD，其主要创新包括：1.以时间序列片段替代单个数据点作为token，丰富token的局部语义信息，实现局部特征的有效捕捉；2.设计单变量注意力机制，通过在全局注意力的基础上增加变量分离和特征拼接操作，减少变量间的信息干扰，专注于变量异质性特征的学习；3.基于时间序列片段构建局部动态图结构，充分学习变量间的动态相关性，并结合全局静态图结构和图注意力网络深度建模时序空间特征。
港口设备异常预测存在以下挑战：1.现有方法直接对输入的历史数据进行整体建模，导致模型在数据不平衡时倾向于拟合正常数据的表现模式，无法准确学习稀疏异常前兆数据特征；2.现有方法基于相同的时间序列尺度进行特征学习，无法准确学习不同类型的异常前兆数据特征；3.基于深度学习的方法通过隐式编码学习异常前兆特征，缺乏异常前兆特征与异常预测结果的显式关联关系。针对上述挑战，本文设计了多维时间序列异常预测模型MTAP-DM，其主要创新包括：1.利用傅里叶变换计算时序主导周期并生成对应的主导周期掩码序列，通过掩盖主导周期包含的正常数据来增强稀疏异常前兆数据的特征表达能力；2.对主导周期掩码序列进行不同时间尺度下的特征学习，充分捕捉不同类型异常前兆数据特征；3.基于多尺度特征学习结果分别进行异常前兆存在性判断和异常波动程度评估，建立异常前兆特征与异常预测结果之间的关联关系。
本文在多个数据集上进行了对比实验、消融实验和参数敏感性实验，充分验证了所提出模型的优秀性能和关键结构设计的有效性，并且基于所提出的模型搭建了港口设备异常分析系统，将相关理论创新应用到实际场景中。


关键字：港口设备；多维时间序列；异常检测；异常预测 
中图分类号：TP3


Abstract

With the continuous expansion of port logistics, the management of port equipment anomalies has become increasingly important for ensuring the safe operation of ports. By performing anomaly detection and prediction on time series data from port equipment, the efficiency of anomaly management can be significantly improved. In recent years, Transformer and Graph Neural Network (GNN) have been widely applied in time series anomaly analysis due to their powerful capabilities in modeling temporal and spatial dependencies respectively. However, characteristics such as high dimensional heterogeneity, dynamic correlations among variables, complex local variation patterns, and sparsity of anomaly precursors in port equipment time series data pose multiple challenges to the application of existing methods in this domain.
The main challenges in port equipment anomaly detection include: 1. Transformer, originally designed for textual tasks, treat each individual data point as a token. This approach overlooks the fact that, unlike words, a single data point in a time series lacks explicit semantic meaning, making it difficult to effectively capture local temporal patterns. 2. The global attention mechanism of Transformer enables interactions between different time series variables via matrix multiplication, leading to information interference across variables and hinder accurate modeling of variable heterogeneity. 3. Graph neural networks learn spatial dependencies among variables based on a global static graph structure, but cannot capture the dynamic correlations between variables. To address these challenges, this study proposes a multivariate time series anomaly detection model—MTAD-TSD, with the following main innovations: 1. Replacing single data points with time series segments as tokens to enrich local semantic information and enhance the model’s capability to capture local features. 2. Designing a univariate attention mechanism that introduces variable separation and feature concatenation operations on top of global attention, thereby reducing inter variable interference and focusing on learning heterogeneous features of individual variables. 3. Local dynamic graph structures are constructed based on time series segments to fully capture the dynamic correlations among variables, and are further combined with global static graph structure and graph attention network to deeply model spatiotemporal features.
The main challenges in port equipment anomaly prediction include: 1.Existing methods directly perform holistic modeling on the input historical data, which can bias the model toward fitting normal data patterns under imbalanced data conditions, making it difficult to learn features of sparse anomaly precursors. 2.Existing methods perform feature learning based on a single, fixed time series scale, limiting the model’s ability to accurately capture diverse precursor patterns. 3.Deep learning based methods tend to rely on implicit encoding of precursor features, lacking explicit associations between precursor features and prediction results. To address these challenges, this study proposes a multivariate time series anomaly prediction model—MTAP-DM, with the following main innovations: 1. Computing the dominant period of time series data using fourier transform and generating corresponding dominant period mask sequence to mask normal data within the dominant period and enhance the representation of sparse anomaly precursors. 2. Learning features from the dominant period mask sequence at multiple temporal scales to comprehensively capture diverse precursor patterns of different anomaly types. 3. Performing precursor existence detection and anomaly severity estimation based on multi scale feature representations, while providing explicit associations between precursor patterns and prediction results.
Extensive experiments, including comparative tests, ablation tests, and parameter sensitivity tests, are conducted on multiple datasets to validate the superior performance of the proposed models and the effectiveness of their key architectural components. Based on the proposed models, a port equipment anomaly analysis system has been developed, bridging theoretical innovations with real world applications.


Keywords: Port equipment; Multivariate time series; Anomaly detection; Anomaly prediction
CLC code： TP3

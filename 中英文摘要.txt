
摘  要

随着港口物流和设备管理的复杂性不断增加，港口设备的异常管理成为提升港口运行效率、保障安全的重要手段，通过对港口设备运行时产生的多维时间序列数据进行异常分析可以有效提升设备异常管理的效率。多维时间序列异常检测近年来被广泛研究，然而目前该领域内的相关研究仍然存在一些挑战和不足，具体总结为：（1）目前多数研究只是从多维时间序列的时间或者空间单一维度来进行序列建模，缺乏对另一维度信息的充分利用；（2）从时间维度进行建模的异常检测方法存在如下问题：无法有效兼顾对时间序列长期语义信息和局部语义信息的准确提取；不同变量维度之间的信息交互会干扰单一变量维度序列的特征提取。从空间维度进行建模的异常检测方法存在如下问题：无法自动构建可供图神经网络学习的多维时间序列图结构；无法捕捉不同变量维度序列独特的特征信息；（3）目前多数研究都是针对历史数据中已发生的异常进行检测，缺乏对未发生的异常进行预测，并且目前针对异常预测的研究方法无法准确学习历史数据中的异常前兆数据特征，同时无法有效针对不同类型异常进行预测。
针对这些不足和挑战，本文做了如下工作：（1）本文提出了一种基于时空双维度特征学习的多维时间序列异常检测模型MTAD-TSD，其支持同时从时间和空间两个维度对多维时间序列进行特征学习和建模（解决问题1）；（2）在时间维度建模方面，本文基于Transformer提出了其变体网络Uaformer，Uaformer使用时间序列分段和Time2Vec编码方法来有效兼顾对时间序列长期语义信息和局部语义信息的准确提取，同时其在Transformer原始的点积注意力基础上提出了单变量注意力机制UA，能够有效减少不同变量维度之间的信息交互对单一变量维度特征提取的干扰。在空间维度特征建模方面， MTAD-TSD设计了一种多维时间序列图结构自动学习机制，并且通过改进的图神经网络学习方法和图注意力网络来鲁棒地捕捉不同变量维度序列独特的特征信息（解决问题2）；（3）本文提出了基于频域分析和多尺度特征学习相结合的多维时间序列异常预测模型MTAP-FM，其通过快速傅里叶变换来生成基于主导周期的掩码序列，对掩码序列进行特征学习可以准确学习到异常前兆数据特征，同时其使用多尺度学习方法来进行不同尺度下的异常前兆数据特征学习及融合，并通过计算多尺度特征相似度和重构误差来进行异常预测（解决问题3）。
本文在多个数据集上设计了对比实验，充分验证了本文提出的异常检测模型MTAD-TSD和异常预测模型MTAP-FM的优秀性能；本文还设计了消融实验来验证这两个模型内部设计的有效性；本文最后基于MTAD-TSD和MTAP-FM设计了港口设备异常检测系统，将相关理论创新应用到实际场景中。

关键字：多维时间序列；异常检测；异常预测；特征学习 
中图分类号：TP3


Abstract

As the complexity of port logistics and equipment management continues to increase, the anomaly management of port equipment has become an essential means to enhance port operational efficiency and ensure safety. By conducting anomaly analysis on the multivariate time series data generated during the operation of port equipment, the efficiency of equipment anomaly management can be significantly improved. Multidimensional time series anomaly detection has been widely studied in recent years; however, there are still several challenges and shortcomings in this field, which can be summarized as follows: (1) Most studies currently focus on modeling time series from either the temporal or spatial dimension of multivariate time series, lacking sufficient utilization of the other dimension's information; (2) Anomaly detection methods that model the temporal dimension suffer from the following problems: they are unable to effectively extract both long-term semantic information and local semantic information from time series; the information interaction between different variable dimensions interferes with the feature extraction of single-variable dimension sequences. Anomaly detection methods based on modeling the spatial dimension face the following issues: they cannot automatically construct multivariate time series graph structures for graph neural networks to learn; they fail to capture the unique feature information of different variable dimension sequences; (3) Most studies focus on detecting anomalies that have already occurred in historical data, with a lack of methods for predicting unobserved anomalies. Furthermore, the current research methods for anomaly prediction cannot accurately learn the anomaly precursor data features in historical data, nor can they effectively predict different types of anomalies.
To solve these shortcomings and challenges, this paper makes the following contributions: (1) We propose a multivariate time series anomaly detection model, MTAD-TSD, based on spatiotemporal dual-dimensional feature learning, which supports simultaneous feature learning and modeling of multivariate time series from both the temporal and spatial dimensions (solve Problem 1); (2) In the modeling of the temporal dimension, we introduce a variant network called Uaformer based on Transformer, which uses time series segmentation and the Time2Vec encoding method to effectively balance the accurate extraction of both long-term and local semantic information of time series. Additionally, we propose a univariate attention mechanism (UA) based on Transformer’s original dot-product attention, which effectively reduces the interference caused by the information interaction between different variable dimensions in the feature extraction of single-variable dimensions. In spatial dimension feature modeling, MTAD-TSD designs an automatic learning mechanism for multivariate time series graph structures and robustly captures the unique feature information of different variable dimension sequences through an improved graph neural network learning method and graph attention network (solve Problem 2); (3) We propose a multivariate time series anomaly prediction model, MTAP-FM, which combines frequency-domain analysis and multi-scale feature learning. It uses fast Fourier transform to generate mask sequences based on dominant cycles and learns features from these sequences to accurately capture anomaly precursor data characteristics. Additionally, it employs multi-scale learning methods for feature learning and fusion of anomaly precursors at different scales, and performs anomaly prediction by calculating multi-scale feature similarity and reconstruction errors (solve Problem 3).
We conducted comparative experiments on multiple datasets to fully validate the excellent performance of the proposed anomaly detection model MTAD-TSD and anomaly prediction model MTAP-FM. Ablation experiments were also designed to verify the effectiveness of the internal design of both models. Finally, we designed a port equipment anomaly detection system based on MTAD-TSD and MTAP-FM, applying the relevant theoretical innovations to real-world scenarios.

Keywords: Multivariate time series; Anomaly detection; Anomaly prediction; Feature learning
CLC code： TP3
